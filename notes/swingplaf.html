<html>

<head>
    <meta charset="utf-8">
    <link href="../base.css" rel="stylesheet" type="text/css">
    <title>Teadit - è‡ªå·±åŠ¨æ‰‹åšä¸€ä¸ªSwingPlaf</title>
</head>

<body>
    <h3 onClick="javascript: history.back(-1);">ğ‘©ğ’‚ğ’„ğ’Œ</h3>
    <div>
        <h1>â€”â€” è‡ªå·±åŠ¨æ‰‹åšä¸€ä¸ªSwingPlaf â€”â€”</h1>
        <h4>TeaLing - 2020/7/30</h4>
        <div class="text">
            <h2>ç›®å½•</h2>
            <div class="text">
                <a href="#0">0 å¼•è¨€</a><br>
                <a href="#1">1 ä»€ä¹ˆæ˜¯LookAndFeel</a><br>
                <a href="#2">2 LookAndFeelçš„æ„æˆ</a><br>
                <br>
            </div>

            <h2 id="0">0 å¼•è¨€</h2>
            <a>Swingä½œä¸ºJavaåŸºç¡€ç±»çš„ä¸€éƒ¨åˆ†ï¼Œé™¤äº†èƒ½å¤Ÿè·¨å¹³å°è¿è¡Œï¼Œè¿˜æœ‰ä¸€ä¸ªä¼˜ç‚¹å°±æ˜¯èƒ½å¤Ÿåˆ‡æ¢å„ç§é£æ ¼ä¸»é¢˜ï¼ˆLookAndFeelï¼‰(ï¿£â–½ï¿£)~*ã€‚</a><br>
            <a>åœ¨javax.swing.plafåŒ…ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„æ‰¾å‡ºSwingä¸ºæˆ‘ä»¬é¢„åˆ¶çš„å„ç§ä¸»é¢˜ï¼ˆä½†æ˜¯é¢„åˆ¶çš„ä¸»é¢˜è¦ä¹ˆä¸å¥½çœ‹è¦ä¹ˆä¸ç¬¦åˆæˆ‘ä»¬å¼€å‘ä¸­ç¨‹åºæ‰€éœ€è¦çš„é£æ ¼(ï¼›Ğ´ï¼›)ï¼‰ã€‚</a><br>
            <a>ä½†æ˜¯é‰´äºç›®å‰å›½å†…å¯¹äºè¿™ä¸€æ–¹é¢çš„æ•™ç¨‹å°‘ä¹‹åˆå°‘ï¼Œå¤§æ¦‚æ˜¯ç°åœ¨å¾ˆå°‘äººç”¨Swingåšå¤§å‹é¡¹ç›®äº†å§ï¼Œè€Œå°é¡¹ç›®ä¹Ÿä¸å¤ªæ³¨æ„é£æ ¼çš„é—®é¢˜ã€‚</a><br>
            <a>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è¦†å†™Swingæ§ä»¶çš„print()æ–¹æ³•æ¥è¾¾åˆ°è‡ªå·±çš„ç›®çš„ï¼Œä½†æ˜¯ç›´æ¥ä»æ ¹æºå»ç¼–å†™Plafä¸æ˜¯æ›´åŠ é«˜çº§ï¼ˆæ²¡äº‹æ‰¾äº‹ï¼‰å—ï¼Ÿ</a><br>
            <a>äºæ˜¯æ²¡äº‹æ‰¾äº‹çš„æˆ‘å¼€å§‹å°è¯•è‡ªå·±ç¼–å†™ä¸€ä¸ªSwingçš„Plafï¼Œå¹¶å°†è¸©è¿‡çš„å‘åˆ†äº«ç»™å¤§å®¶ï¼Œä¹Ÿç®—æ˜¯å¸Œæœ›è®©Swingåšå‡ºæ¥çš„ç¨‹åºæ›´åŠ ä¸°å¯Œå§(ï½ï¿£â–½ï¿£)ï½ã€‚</a><br>
            <a>æ³¨ï¼šç¼–è€…ç›®å‰ä¹Ÿåªæ˜¯ä¸€ååˆšåˆšä¸­è€ƒå®Œçš„å°æœ‹å‹ï¼Œå¯¹äºJavaä¹Ÿä¸æ˜¯äº†è§£å¾ˆå¤šï¼Œè¿™ä¸€éä¹Ÿåªæ˜¯ç¼–è€…å¼€å‘è¿‡ç¨‹ä¸­çš„éšç¬”ã€‚å¦‚æœè¯»è€…å¯¹å†…å®¹æœ‰å„ç§ç–‘æƒ‘æˆ–è€…æ›´å¥½çš„å»ºè®®ï¼Œè¯·ä¸€å®šè¦å‘Šè¯‰æˆ‘ï¼Œæ¯ä¸€ä¸ªè¯»è€…çš„å»ºè®®å¯¹äºæˆ‘æ¥è¯´éƒ½å¾ˆé‡è¦ï¼å†æ¬¡æ„Ÿè°¢è¯»è€…çš„æ¥è®¿ï¼</a><br>
            <a>ä½ å¯ä»¥å‘æˆ‘å‘é€é‚®ä»¶ï¼ˆtea_ling@qq.comï¼‰æ¥è”ç³»æˆ‘å“¦ãƒ¾(Â´Ï‰ï½€)ï¾‰ï¼</a><br>
            <br>

            <h2 id="1">1 ä»€ä¹ˆæ˜¯LookAndFeel</h2>
            <a>Swingä½œä¸ºä¸€ä¸ªè½»é‡çº§å¯è·¨å¹³å°çš„GUIå·¥å…·åŒ…ï¼Œå…¶æœ¬èº«ç»å¤§éƒ¨åˆ†æ§ä»¶ï¼ˆé™¤äº†JFrame, JDialog, JWindowç­‰çª—å£ç»§æ‰¿äºWindowç±»ä¹‹å¤–ï¼‰éƒ½ç»§æ‰¿äºJComponentç±»ï¼Œè€ŒWindowå’ŒJComponentåˆéƒ½ç»§æ‰¿è‡ªContainerç±»ï¼Œè¿™ä¹Ÿå°±è¯´æ˜æ‰€æœ‰çš„Swingæ§ä»¶éƒ½å¯ä»¥ç”±Graphics2Dæ¥ç»˜åˆ¶ã€‚</a><br>
            <a>è€ŒLookAndFeelå°±æ˜¯Swingç»˜åˆ¶è¿™äº›æ§ä»¶çš„æ ¸å¿ƒï¼Œå®ƒæ§åˆ¶ç€æ•´ä¸ªç¨‹åºçš„é£æ ¼ï¼Œä¹ƒè‡³ç»˜å›¾æ–¹å¼ã€é¢œè‰²ã€ä»¥åŠæ§ä»¶ä¸åŒçŠ¶æ€ä¸‹çš„ä¸åŒå±•ç¤ºæ–¹å¼ã€‚</a><br>
            <a>å¯¹äºç”¨æˆ·ï¼Œè¦æƒ³ä½¿ç”¨LookAndFeelä¹Ÿæ˜¯éå¸¸å®¹æ˜“çš„ï¼Œåªéœ€è¦åœ¨Swingç¨‹åºå¯åŠ¨ä¹‹å‰è°ƒç”¨</a><br>
            <pre>UIManager.setLookAndFeel()</pre>
            <a>æ–¹æ³•ï¼Œå³å¯ä½¿ç”¨è¿™äº›é¢„åˆ¶çš„æˆ–æ˜¯å¯¼å…¥å…¶ä»–äººæ‰€åˆ¶ä½œçš„LookAndFeelã€‚</a><br>
            <a>å€¼å¾—æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ æ˜¯åœ¨ç»˜åˆ¶å®Œæ§ä»¶åæ‰è°ƒç”¨çš„UIManager.setLookAndFeel()æ–¹æ³•ï¼Œé‚£ä¹ˆä½ åº”è¯¥å†åŠ ä¸Šä¸€å¥</a><br>
            <pre>SwingUtilities.updateComponentTreeUI()</pre>
            <a>æ¥é‡ç»˜ä½ çš„æ§ä»¶è¾¾åˆ°åˆ·æ–°çš„ç›®çš„ã€‚</a><br>
            <br>

            <h2 id="2">2 LookAndFeelæ˜¯å¦‚ä½•å·¥ä½œçš„</h2>
            <a>Swingé‡‡ç”¨çš„MVCæ¨¡å¼ï¼ˆModel-View-Controllerï¼‰æ¥å¯¹æ§ä»¶è¿›è¡Œç®¡ç†ï¼Œå‡ ä¹æ‰€æœ‰çš„æ§ä»¶éƒ½å¯ä»¥è¢«åˆ†è§£ä¸ºè¿™ä¸‰éƒ¨åˆ†ã€‚</a><br>
            <a>ä»¥JButtonä¸ºä¾‹ï¼Œå®ƒå¯ä»¥è¿™æ ·è¢«åˆ†è§£ï¼š</a><br>
            <a>Model: ButtonModel, View: ButtonUI, Controller: JButton</a><br>
            <a>å…¶ä¸­ï¼ŒButtonModelæä¾›äº†JButtonçš„æ¨¡å‹ï¼Œç”¨äºæè¿°ä¸€ä¸ªButtonçš„å„ç§å±æ€§ï¼ŒButtonUIå®ç°äº†JButtonçš„ç»˜åˆ¶æ–¹å¼ï¼Œç”¨æ¥è¢«è°ƒç”¨å„ç§JButtonçš„ç»˜å›¾æ“ä½œï¼ŒJButtonåˆ™ç”¨äºæ§åˆ¶ï¼Œç”¨äºå®šä¹‰ä¸€ä¸ªJButtonçš„è¡Œä¸ºã€‚</a><br>
            <a>è€ŒLookAndFeelå°±æ˜¯é€šè¿‡è¿™å…¶ä¸­çš„ButtonUIç±»æ¥ç»˜åˆ¶æ§ä»¶ã€‚æ¯å½“éœ€è¦ç»˜åˆ¶æ§ä»¶çš„æ—¶å€™ï¼ŒSwingå°±ä¼šäº§ç”Ÿä¸€ä¸ªPaintEventäº‹ä»¶åˆ°UIçº¿ç¨‹ä¸­ã€‚</a><br>
            <a>è¿™æ—¶ï¼Œæ§ä»¶çš„paint()å°±ä¼šè¢«è°ƒç”¨æ¥ç»˜å›¾ï¼Œè€Œåœ¨æ¯ä¸ªæ§ä»¶çš„paint()æ–¹æ³•ä¸­åˆä¼šè°ƒç”¨åˆ°paintComponent()æ–¹æ³•ä¸­çš„</a><br>
            <pre>ui.update(scratchGraphics, this)</pre>
            <a>æ–¹æ³•ï¼Œè¿™ä¸ªuiå…¶å®å°±æ˜¯è¿™ä¸ªæ§ä»¶çš„UIç±»ï¼Œè°ƒç”¨çš„ä¹Ÿè‡ªç„¶å°±æ˜¯UIç±»ä¸­çš„ç»˜å›¾æ–¹æ³•äº†ã€‚</a><br>
            <a>è®©æˆ‘ä»¬ä»¥WindowsLookAndFeelä¸ºä¾‹ï¼ŒWindowsLookAndFeelä½äºcom.sun.java.swing.plaf.windowsåŒ…ä¸‹ï¼Œè¿™ä¸ªåŒ…ä¸­ä¸ä»…åŒ…å«WindowsLookAndFeelçš„ä¸»ç±»ï¼Œè¿˜æœ‰å¤§é‡çš„æ§ä»¶UIç±»ï¼Œå…¶ä½™çš„åˆ™æ˜¯ä¸€äº›æ§ä»¶çš„å±æ€§é…ç½®å’ŒWindowsLookAndFeelæ£€æµ‹ä¸åŒå¹³å°æ‰€éœ€çš„æ£€æµ‹ç±»ã€‚</a><br>
            <a>å¦‚æœè¯»è€…æœ‰æ‰“å¼€æ¯ä¸€ä¸ªç±»æŸ¥çœ‹çš„è¯ï¼Œä¼šå‘ç°å¤§éƒ¨åˆ†çš„ç±»éƒ½ç»§æ‰¿è‡ªBasicå¼€å¤´çš„å„ç§ç±»ï¼Œè¿™å…¶å®å°±æ˜¯Swingé»˜è®¤çš„javax.swing.plaf.basicåŒ…ä¸‹çš„BasicLookAndFeelï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„LookAndFeelçš„è¯ï¼Œä¹Ÿéœ€è¦ç»§æ‰¿è¿™äº›ç±»ã€‚</a><br>
            <a>å…¶å®Swingä¸ºäº†èƒ½å¤Ÿè®©æ§ä»¶ä»¬èƒ½å¤Ÿè·å–åˆ°å±äºè‡ªå·±çš„UIç±»ï¼Œåœ¨LookAndFeelä¸­å­˜åœ¨ç€ä¸€ä¸ªå­˜æ”¾äº†å¤§é‡é”®å€¼å¯¹çš„åä¸ºuiDefaultsçš„Objectæ•°ç»„å¯¹è±¡ï¼Œç„¶åå°†ä¼šç”±ä¸€ä¸ªç»§æ‰¿è‡ªHashTableçš„UIDefaultsç±»è¿›è¡Œæ”¶é›†ã€‚</a><br>
            <pre>    protected void initClassDefaults(UIDefaults table)
                {
                    super.initClassDefaults(table);
            
                    final String windowsPackageName = "com.sun.java.swing.plaf.windows.";
            
                    Object[] uiDefaults = {
                          "ButtonUI", windowsPackageName + "WindowsButtonUI",
                        "CheckBoxUI", windowsPackageName + "WindowsCheckBoxUI",
                "CheckBoxMenuItemUI", windowsPackageName + "WindowsCheckBoxMenuItemUI",
                           "LabelUI", windowsPackageName + "WindowsLabelUI",
                     "RadioButtonUI", windowsPackageName + "WindowsRadioButtonUI",
             "RadioButtonMenuItemUI", windowsPackageName + "WindowsRadioButtonMenuItemUI",
                    "ToggleButtonUI", windowsPackageName + "WindowsToggleButtonUI",
                     "ProgressBarUI", windowsPackageName + "WindowsProgressBarUI",
                          "SliderUI", windowsPackageName + "WindowsSliderUI",
                       "SeparatorUI", windowsPackageName + "WindowsSeparatorUI",
                       "SplitPaneUI", windowsPackageName + "WindowsSplitPaneUI",
                         "SpinnerUI", windowsPackageName + "WindowsSpinnerUI",
                      "TabbedPaneUI", windowsPackageName + "WindowsTabbedPaneUI",
                        "TextAreaUI", windowsPackageName + "WindowsTextAreaUI",
                       "TextFieldUI", windowsPackageName + "WindowsTextFieldUI",
                   "PasswordFieldUI", windowsPackageName + "WindowsPasswordFieldUI",
                        "TextPaneUI", windowsPackageName + "WindowsTextPaneUI",
                      "EditorPaneUI", windowsPackageName + "WindowsEditorPaneUI",
                            "TreeUI", windowsPackageName + "WindowsTreeUI",
                         "ToolBarUI", windowsPackageName + "WindowsToolBarUI",
                "ToolBarSeparatorUI", windowsPackageName + "WindowsToolBarSeparatorUI",
                        "ComboBoxUI", windowsPackageName + "WindowsComboBoxUI",
                     "TableHeaderUI", windowsPackageName + "WindowsTableHeaderUI",
                   "InternalFrameUI", windowsPackageName + "WindowsInternalFrameUI",
                     "DesktopPaneUI", windowsPackageName + "WindowsDesktopPaneUI",
                     "DesktopIconUI", windowsPackageName + "WindowsDesktopIconUI",
                     "FileChooserUI", windowsPackageName + "WindowsFileChooserUI",
                            "MenuUI", windowsPackageName + "WindowsMenuUI",
                        "MenuItemUI", windowsPackageName + "WindowsMenuItemUI",
                         "MenuBarUI", windowsPackageName + "WindowsMenuBarUI",
                       "PopupMenuUI", windowsPackageName + "WindowsPopupMenuUI",
              "PopupMenuSeparatorUI", windowsPackageName + "WindowsPopupMenuSeparatorUI",
                       "ScrollBarUI", windowsPackageName + "WindowsScrollBarUI",
                        "RootPaneUI", windowsPackageName + "WindowsRootPaneUI"
                    };
            
                    table.putDefaults(uiDefaults);
                }</pre>
            <a>Swingåˆ™æ˜¯é€šè¿‡è¿™ä¸ªUIDefaultsç±»æ¥è·å–ç›¸åº”çš„UIç±»åï¼Œæœ€ç»ˆåå°„ç”Ÿæˆå¯¹åº”çš„UIç±»è¿”å›ç»™æ§ä»¶çš„updateUIæ–¹æ³•ã€‚</a>
        </div>
    </div>
</body>

</html>